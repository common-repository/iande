{"version":3,"file":"dist/view-itinerary-page.js","mappings":"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","sources":["webpack://iande-plugin/src/assets/js/components/ItemDetailsModal.vue","webpack://iande-plugin/./src/assets/js/components/ItemDetailsModal.vue?058d","webpack://iande-plugin/./src/assets/js/components/ItemDetailsModal.vue","webpack://iande-plugin/./src/assets/js/components/ItemDetailsModal.vue?efa5","webpack://iande-plugin/./src/assets/js/components/Modal.vue?96e4","webpack://iande-plugin/./node_modules/vue-global-events/dist/vue-global-events.es.js","webpack://iande-plugin/./src/assets/js/components/Modal.vue?9958","webpack://iande-plugin/src/assets/js/components/Modal.vue","webpack://iande-plugin/./src/assets/js/components/Modal.vue","webpack://iande-plugin/./src/assets/js/pages/view-itinerary.vue?f473","webpack://iande-plugin/src/assets/js/pages/view-itinerary.vue","webpack://iande-plugin/./src/assets/js/pages/view-itinerary.vue?3cff","webpack://iande-plugin/./src/assets/js/pages/view-itinerary.vue"],"sourcesContent":["<template>\n    <Modal ref=\"modal\" class=\"iande-tainacan-modal\" :label=\"__('Ficha da obra', 'iande')\" @close=\"close\">\n        <header class=\"iande-tainacan-modal__header\">\n            <h1>{{ __('Mais detalhes sobre a obra', 'iande') }}</h1>\n            <a :href=\"item.url\">\n                <span>{{ _x('Ver item no', 'tainacan', 'iande') }} <b>Tainacan</b></span>\n                <img :src=\"`${$iande.iandePath}assets/img/tainacan-logo_short.png`\" alt=\"\">\n            </a>\n        </header>\n\n        <main class=\"iande-tainacan-modal__details\">\n            <dl v-if=\"image\">\n                <dt>{{ _x('Miniatura', 'tainacan', 'iande') }}</dt>\n                <dd>\n                    <a :href=\"image.url\" target=\"_blank\">\n                        <img :src=\"image.thumbnails.thumbnail[0]\" :alt=\"_x('Miniatura', 'tainacan', 'iande')\">\n                    </a>\n                </dd>\n            </dl>\n            <template v-for=\"(metadatum, key) of item.metadata\">\n                <dl :key=\"key\" v-if=\"metadatum.value_as_html\">\n                    <dt>{{ _x(metadatum.name, 'tainacan', 'iande') }}</dt>\n                    <dd v-html=\"metadatum.value_as_html\"/>\n                </dl>\n            </template>\n        </main>\n\n        <footer class=\"iande-tainacan-modal__footer\">\n            <a :href=\"item.url\">\n                <span>{{ _x('Ver item no', 'tainacan', 'iande') }} <b>Tainacan</b></span>\n                <img :src=\"`${$iande.iandePath}assets/img/tainacan-logo_short.png`\" alt=\"\">\n            </a>\n        </footer>\n    </Modal>\n</template>\n\n<script>\n    import Modal from '@components/Modal.vue'\n\n    export default {\n        name: 'ItemDetailsModal',\n        components: {\n            Modal,\n        },\n        props: {\n            item: { type: Object, required: true },\n        },\n        computed: {\n            image () {\n                return this.item.attachments.find(att => att.media_type === 'image')\n            },\n        },\n        methods: {\n            close () {\n                if (this.$refs.modal.isOpen) {\n                    this.$refs.modal.close()\n                }\n            },\n            open () {\n                this.$refs.modal.open()\n            },\n        },\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemDetailsModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItemDetailsModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItemDetailsModal.vue?vue&type=template&id=679ec3dc&\"\nimport script from \"./ItemDetailsModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ItemDetailsModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Modal',{ref:\"modal\",staticClass:\"iande-tainacan-modal\",attrs:{\"label\":_vm.__('Ficha da obra', 'iande')},on:{\"close\":_vm.close}},[_c('header',{staticClass:\"iande-tainacan-modal__header\"},[_c('h1',[_vm._v(_vm._s(_vm.__('Mais detalhes sobre a obra', 'iande')))]),_vm._v(\" \"),_c('a',{attrs:{\"href\":_vm.item.url}},[_c('span',[_vm._v(_vm._s(_vm._x('Ver item no', 'tainacan', 'iande'))+\" \"),_c('b',[_vm._v(\"Tainacan\")])]),_vm._v(\" \"),_c('img',{attrs:{\"src\":((_vm.$iande.iandePath) + \"assets/img/tainacan-logo_short.png\"),\"alt\":\"\"}})])]),_vm._v(\" \"),_c('main',{staticClass:\"iande-tainacan-modal__details\"},[(_vm.image)?_c('dl',[_c('dt',[_vm._v(_vm._s(_vm._x('Miniatura', 'tainacan', 'iande')))]),_vm._v(\" \"),_c('dd',[_c('a',{attrs:{\"href\":_vm.image.url,\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.image.thumbnails.thumbnail[0],\"alt\":_vm._x('Miniatura', 'tainacan', 'iande')}})])])]):_vm._e(),_vm._v(\" \"),_vm._l((_vm.item.metadata),function(metadatum,key){return [(metadatum.value_as_html)?_c('dl',{key:key},[_c('dt',[_vm._v(_vm._s(_vm._x(metadatum.name, 'tainacan', 'iande')))]),_vm._v(\" \"),_c('dd',{domProps:{\"innerHTML\":_vm._s(metadatum.value_as_html)}})]):_vm._e()]})],2),_vm._v(\" \"),_c('footer',{staticClass:\"iande-tainacan-modal__footer\"},[_c('a',{attrs:{\"href\":_vm.item.url}},[_c('span',[_vm._v(_vm._s(_vm._x('Ver item no', 'tainacan', 'iande'))+\" \"),_c('b',[_vm._v(\"Tainacan\")])]),_vm._v(\" \"),_c('img',{attrs:{\"src\":((_vm.$iande.iandePath) + \"assets/img/tainacan-logo_short.png\"),\"alt\":\"\"}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.isOpen)?_c('div',{staticClass:\"iande-modal__wrapper\"},[_c('GlobalEvents',{on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.close.apply(null, arguments)}}}),_vm._v(\" \"),_c('div',{staticClass:\"iande-modal\",class:{ narrow: _vm.narrow },attrs:{\"role\":\"dialog\",\"aria-modal\":\"true\",\"aria-label\":_vm.label,\"tabindex\":\"-1\"}},[_c('div',{staticClass:\"iande-modal__header\"},[_c('div',{ref:\"button\",staticClass:\"iande-modal__close\",attrs:{\"role\":\"button\",\"tabindex\":\"0\",\"aria-label\":_vm.__('Fechar', 'iande')},on:{\"click\":_vm.close,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.close.apply(null, arguments)}}},[_c('Icon',{attrs:{\"icon\":\"xmark\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"iande-modal__body\"},[_vm._t(\"default\")],2)])],1):_c('div')}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * vue-global-events v1.2.1\n * (c) 2020 Damian Dulisz <damian.dulisz@gmail.com>, Eduardo San Martin Morote <posva13@gmail.com>\n * @license MIT\n */\n\nvar _isIE;\nfunction isIE () {\n  return _isIE == null\n    ? (_isIE = /msie|trident/.test(window.navigator.userAgent.toLowerCase()))\n    : _isIE\n}\n\nvar modifiersRE = /^[~!&]*/;\nvar nonEventNameCharsRE = /\\W+/;\nvar names = {\n  '!': 'capture',\n  '~': 'once',\n  '&': 'passive'\n};\n\nfunction extractEventOptions (eventDescriptor) {\n  var ref = eventDescriptor.match(modifiersRE);\n  var modifiers = ref[0];\n\n  // IE only supports capture option and it has to be a boolean\n  // https://github.com/shentao/vue-global-events/issues/14\n  if (isIE()) {\n    return modifiers.indexOf('!') > -1\n  }\n\n  return modifiers.split('').reduce(function (options, modifier) {\n    options[names[modifier]] = true;\n    return options\n  }, {})\n}\n\nvar index = {\n  name: 'GlobalEvents',\n  props: {\n    target: {\n      type: String,\n      default: 'document'\n    },\n    filter: {\n      type: Function,\n      default: function (e) { return true; }\n    }\n  },\n\n  // track keep-alive active state\n  data: function () { return ({ isActive: true }); },\n  activated: function activated () {\n    this.isActive = true;\n  },\n  deactivated: function deactivated () {\n    this.isActive = false;\n  },\n\n  render: function (h) { return h(); },\n\n  mounted: function mounted () {\n    var this$1 = this;\n\n    this._listeners = Object.create(null);\n    Object.keys(this.$listeners).forEach(function (event) {\n      var listener = this$1.$listeners[event];\n      var handler = function (e) {\n        this$1.isActive && this$1.filter(e, listener, event) && listener(e);\n      };\n      window[this$1.target].addEventListener(\n        event.replace(nonEventNameCharsRE, ''),\n        handler,\n        extractEventOptions(event)\n      );\n      this$1._listeners[event] = handler;\n    });\n  },\n\n  beforeDestroy: function beforeDestroy () {\n    var this$1 = this;\n\n    for (var event in this$1._listeners) {\n      window[this$1.target].removeEventListener(\n        event.replace(nonEventNameCharsRE, ''),\n        this$1._listeners[event],\n        extractEventOptions(event)\n      );\n    }\n  }\n};\n\nexport default index;\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Modal.vue?vue&type=script&lang=js&\"","<template>\n    <div class=\"iande-modal__wrapper\" v-if=\"isOpen\">\n        <GlobalEvents @keyup.esc=\"close\"/>\n        <div class=\"iande-modal\" :class=\"{ narrow }\" role=\"dialog\" aria-modal=\"true\" :aria-label=\"label\" tabindex=\"-1\">\n            <div class=\"iande-modal__header\">\n                <div class=\"iande-modal__close\" role=\"button\" tabindex=\"0\" ref=\"button\" :aria-label=\"__('Fechar', 'iande')\" @click=\"close\" @keypress.enter=\"close\">\n                    <Icon icon=\"xmark\"/>\n                </div>\n            </div>\n            <div class=\"iande-modal__body\">\n                <slot/>\n            </div>\n        </div>\n    </div>\n    <div v-else/>\n</template>\n\n<script>\n    import GlobalEvents from 'vue-global-events'\n\n    export default {\n        name: 'Modal',\n        components: {\n            GlobalEvents,\n        },\n        props: {\n            label: { type: String, required: true },\n            narrow: { type: Boolean, default: false },\n        },\n        data () {\n            return {\n                isOpen: false\n            }\n        },\n        methods: {\n            close (emitEvent = true) {\n                this.isOpen = false\n                if (emitEvent) {\n                    this.$emit('close')\n                }\n            },\n            open () {\n                this.isOpen = true\n                this.$nextTick(() => {\n                    this.$refs.button.focus()\n                })\n            },\n        }\n    }\n</script>\n","import { render, staticRenderFns } from \"./Modal.vue?vue&type=template&id=56bd9c44&\"\nimport script from \"./Modal.vue?vue&type=script&lang=js&\"\nexport * from \"./Modal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.itinerary)?_c('div',{staticClass:\"iande-itinerary\"},[(_vm.cover)?_c('div',{staticClass:\"iande-itinerary-cover\"},[_c('div',{staticClass:\"iande-itinerary-cover__main\",style:({ '--itinerary-cover': (\"url(\" + (_vm.itinerary.cover) + \")\") })},[_c('div',{staticClass:\"iande-container\"},[_c('div',[_c('div',{staticClass:\"iande-itinerary-cover__lead\"},[_vm._v(_vm._s(_vm.__('Roteiro virtual', 'iande')))]),_vm._v(\" \"),_c('h1',{staticClass:\"iande-itinerary-cover__title\"},[_vm._v(_vm._s(_vm.itinerary.title))]),_vm._v(\" \"),_c('p',{staticClass:\"iande-itinerary-cover__description\"},[_vm._v(_vm._s(_vm.formatText(_vm.itinerary.description)))]),_vm._v(\" \"),(_vm.itinerary.shareable === 'yes')?_c('div',{staticClass:\"iande-itinerary-cover__share\"},[_c('span',[_vm._v(_vm._s(_vm.__('Compartilhe', 'iande')))]),_vm._v(\" \"),_c('ul',[_c('li',[_c('a',{attrs:{\"href\":_vm.facebookLink,\"target\":\"_blank\",\"aria-label\":\"Facebook\"}},[_c('Icon',{attrs:{\"icon\":['fab', 'facebook']}})],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":_vm.telegramLink,\"target\":\"_blank\",\"aria-label\":\"Telegram\"}},[_c('Icon',{attrs:{\"icon\":['fab', 'telegram']}})],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":_vm.twitterLink,\"target\":\"_blank\",\"aria-label\":\"Twitter\"}},[_c('Icon',{attrs:{\"icon\":['fab', 'twitter']}})],1)]),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":_vm.whatsappLink,\"target\":\"_blank\",\"aria-label\":\"WhatsApp\"}},[_c('Icon',{attrs:{\"icon\":['fab', 'whatsapp']}})],1)]),_vm._v(\" \"),(_vm.shareAvailable)?_c('li',[_c('a',{attrs:{\"href\":\"javascript:void(0)\",\"role\":\"button\",\"tabindex\":\"0\",\"aria-label\":_vm.__('Compartilhar', 'iande')},on:{\"click\":_vm.share,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.share.apply(null, arguments)}}},[_c('Icon',{attrs:{\"icon\":\"share-nodes\"}})],1)]):_vm._e()])]):_vm._e()]),_vm._v(\" \"),_c('div',[_c('button',{staticClass:\"iande-button iande-itinerary-cover__start-button\",on:{\"click\":function($event){return _vm.gotoPage(0)}}},[_vm._v(\"\\n                        \"+_vm._s(_vm.__('Iniciar', 'iande'))+\"\\n                        \"),_c('Icon',{attrs:{\"icon\":\"angle-right\"}})],1)])])]),_vm._v(\" \"),_c('div',{staticClass:\"iande-itinerary-cover__credits\"},[_c('div',{staticClass:\"iande-container\"},[_c('div',[_vm._v(_vm._s(_vm.__('Roteiro criado por', 'iande'))+\" \"+_vm._s(_vm.itinerary.user_name))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.__('Obras pertencem à coleção de', 'iande'))+\" \"),_c('b',[_vm._v(_vm._s(_vm.$iande.siteName))])])])])]):_c('div',[_c('div',{staticClass:\"iande-itinerary-header\"},[_c('div',{staticClass:\"iande-itinerary-toolbar\"},[_c('div',{staticClass:\"iande-container iande-itinerary-toolbar__row\"},[_c('div',[_c('span',[_vm._v(_vm._s(_vm.__('Roteiro de visita virtual', 'iande')))])]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(_vm._s(_vm.itinerary.title))])]),_vm._v(\" \"),_c('div',[_c('a',{attrs:{\"href\":_vm.$iandeUrl('itinerary/list')}},[_vm._v(\"\\n                            \"+_vm._s(_vm.__('Fechar', 'iande'))+\"\\n                            \"),_c('Icon',{attrs:{\"icon\":\"xmark\"}})],1)])])])]),_vm._v(\" \"),_c('div',{staticClass:\"iande-container\"},[_c('div',{staticClass:\"iande-itinerary-navigation\"},[_c('button',{attrs:{\"aria-label\":_vm.page === 0 ? _vm.__('Voltar à capa', 'iande') : _vm.__('Página anterior', 'iande')},on:{\"click\":_vm.previousPage}},[_c('Icon',{attrs:{\"icon\":\"angle-left\"}})],1),_vm._v(\" \"),_c('progress',{attrs:{\"max\":_vm.itinerary.items.length},domProps:{\"value\":_vm.page + 1}},[_vm._v(_vm._s(_vm.page + 1)+\" / \"+_vm._s(_vm.itinerary.items.length))]),_vm._v(\" \"),_c('button',{attrs:{\"aria-label\":_vm.page === _vm.itinerary.items.length - 1 ? _vm.__('Voltar à capa', 'iande') : _vm.__('Próxima página', 'iande')},on:{\"click\":_vm.nextPage}},[_c('Icon',{attrs:{\"icon\":\"angle-right\"}})],1)]),_vm._v(\" \"),(_vm.currentMeta)?_c('div',{staticClass:\"iande-itinerary-page\",class:(\"layout-\" + (_vm.itinerary.layout))},[_c('a',{staticClass:\"iande-itinerary-page__image\",attrs:{\"href\":_vm.currentMeta.url}},[(_vm.currentImage)?_c('img',{attrs:{\"src\":_vm.currentImage.thumbnails.large[0],\"alt\":_vm.currentImage.alt_text}}):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"iande-itinerary-page__details\"},[_c('div',{staticClass:\"iande-itinerary-page__details-main\"},[_c('h2',{staticClass:\"iande-itinerary-page__title\"},[_vm._v(_vm._s(_vm.currentMeta.title))]),_vm._v(\" \"),_c('p',{staticClass:\"iande-itinerary-page__description\"},[_vm._v(_vm._s(_vm.formatText(_vm.currentItem.items_description || _vm.currentMeta.description)))])]),_vm._v(\" \"),_c('button',{staticClass:\"iande-button primary\",on:{\"click\":_vm.openModal}},[_c('Icon',{attrs:{\"icon\":\"circle-info\"}}),_vm._v(\"\\n                        \"+_vm._s(_vm.__('Ver ficha completa da obra', 'iande'))+\"\\n                    \")],1)])]):_vm._e()])]),_vm._v(\" \"),(_vm.currentMeta)?_c('ItemDetailsModal',{ref:\"modal\",attrs:{\"item\":_vm.currentMeta}}):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"iande-itinerary\" v-if=\"itinerary\">\n        <div class=\"iande-itinerary-cover\" v-if=\"cover\">\n            <div class=\"iande-itinerary-cover__main\" :style=\"{ '--itinerary-cover': `url(${itinerary.cover})` }\">\n                <div class=\"iande-container\">\n                    <div>\n                        <div class=\"iande-itinerary-cover__lead\">{{ __('Roteiro virtual', 'iande') }}</div>\n                        <h1 class=\"iande-itinerary-cover__title\">{{ itinerary.title }}</h1>\n                        <p class=\"iande-itinerary-cover__description\">{{ formatText(itinerary.description) }}</p>\n                        <div class=\"iande-itinerary-cover__share\" v-if=\"itinerary.shareable === 'yes'\">\n                            <span>{{ __('Compartilhe', 'iande') }}</span>\n                            <ul>\n                                <li>\n                                    <a :href=\"facebookLink\" target=\"_blank\" aria-label=\"Facebook\">\n                                        <Icon :icon=\"['fab', 'facebook']\"/>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a :href=\"telegramLink\" target=\"_blank\" aria-label=\"Telegram\">\n                                        <Icon :icon=\"['fab', 'telegram']\"/>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a :href=\"twitterLink\" target=\"_blank\" aria-label=\"Twitter\">\n                                        <Icon :icon=\"['fab', 'twitter']\"/>\n                                    </a>\n                                </li>\n                                <li>\n                                    <a :href=\"whatsappLink\" target=\"_blank\" aria-label=\"WhatsApp\">\n                                        <Icon :icon=\"['fab', 'whatsapp']\"/>\n                                    </a>\n                                </li>\n                                <li v-if=\"shareAvailable\">\n                                    <a href=\"javascript:void(0)\" role=\"button\" tabindex=\"0\" :aria-label=\"__('Compartilhar', 'iande')\" @click=\"share\" @keypress.enter=\"share\">\n                                        <Icon icon=\"share-nodes\"/>\n                                    </a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                    <div>\n                        <button class=\"iande-button iande-itinerary-cover__start-button\" @click=\"gotoPage(0)\">\n                            {{ __('Iniciar', 'iande') }}\n                            <Icon icon=\"angle-right\"/>\n                        </button>\n                    </div>\n                </div>\n            </div>\n            <div class=\"iande-itinerary-cover__credits\">\n                <div class=\"iande-container\">\n                    <div>{{ __('Roteiro criado por', 'iande') }} {{ itinerary.user_name }}</div>\n                    <div>{{ __('Obras pertencem à coleção de', 'iande') }} <b>{{ $iande.siteName }}</b></div>\n                </div>\n            </div>\n        </div>\n\n        <div v-else>\n            <div class=\"iande-itinerary-header\">\n                <div class=\"iande-itinerary-toolbar\">\n                    <div class=\"iande-container iande-itinerary-toolbar__row\">\n                        <div>\n                            <span>{{ __('Roteiro de visita virtual', 'iande') }}</span>\n                        </div>\n                        <div>\n                            <span>{{ itinerary.title }}</span>\n                        </div>\n                        <div>\n                            <a :href=\"$iandeUrl('itinerary/list')\">\n                                {{ __('Fechar', 'iande') }}\n                                <Icon icon=\"xmark\"/>\n                            </a>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            <div class=\"iande-container\">\n                <div class=\"iande-itinerary-navigation\">\n                    <button :aria-label=\"page === 0 ? __('Voltar à capa', 'iande') : __('Página anterior', 'iande') \" @click=\"previousPage\">\n                        <Icon icon=\"angle-left\"/>\n                    </button>\n                    <progress :value=\"page + 1\" :max=\"itinerary.items.length\">{{ page + 1 }} / {{ itinerary.items.length }}</progress>\n                    <button :aria-label=\"page === itinerary.items.length - 1 ? __('Voltar à capa', 'iande') : __('Próxima página', 'iande') \" @click=\"nextPage\">\n                        <Icon icon=\"angle-right\"/>\n                    </button>\n                </div>\n\n                <div class=\"iande-itinerary-page\" :class=\"`layout-${itinerary.layout}`\" v-if=\"currentMeta\">\n                    <a class=\"iande-itinerary-page__image\" :href=\"currentMeta.url\">\n                        <img :src=\"currentImage.thumbnails.large[0]\" :alt=\"currentImage.alt_text\" v-if=\"currentImage\">\n                    </a>\n                    <div class=\"iande-itinerary-page__details\">\n                        <div class=\"iande-itinerary-page__details-main\">\n                            <h2 class=\"iande-itinerary-page__title\">{{ currentMeta.title }}</h2>\n                            <p class=\"iande-itinerary-page__description\">{{ formatText(currentItem.items_description || currentMeta.description) }}</p>\n                        </div>\n                        <button class=\"iande-button primary\" @click=\"openModal\">\n                            <Icon icon=\"circle-info\"/>\n                            {{ __('Ver ficha completa da obra', 'iande') }}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <ItemDetailsModal ref=\"modal\" :item=\"currentMeta\" v-if=\"currentMeta\"/>\n    </div>\n</template>\n\n<script>\n    import ItemDetailsModal from '@components/ItemDetailsModal.vue'\n    import { api, qs } from '@utils'\n\n    export default {\n        name: 'ViewItineraryPage',\n        components: {\n            ItemDetailsModal,\n        },\n        data () {\n            return {\n                cover: true,\n                itemsCache: {},\n                itinerary: null,\n                page: 0,\n                shareAvailable: true,\n            }\n        },\n        computed: {\n            currentImage () {\n                return this.currentMeta?.attachments.find(att => att.media_type === 'image')\n            },\n            currentItem () {\n                return this.itinerary.items[this.page]\n            },\n            currentMeta () {\n                return this.itemsCache[this.page] ?? null\n            },\n            facebookLink () {\n                return `https://www.facebook.com/sharer/sharer.php?quote=${window.encodeURIComponent(this.shareText)}&u=${window.location.href}`\n            },\n            shareText () {\n                return `${this.itinerary.title}\\n\\n${this.itinerary.description}`\n            },\n            telegramLink () {\n                return `https://t.me/share/url?text=${window.encodeURIComponent(this.shareText)}&url=${window.encodeURIComponent(window.location.href)}`\n            },\n            twitterLink () {\n                return `https://twitter.com/intent/tweet?text=${window.encodeURIComponent(this.shareText)}&url=${window.location.href}`\n            },\n            whatsappLink () {\n                return `https://api.whatsapp.com/send?text=${window.encodeURIComponent(`${this.shareText}\\n\\n${window.location.href}`)}`\n            },\n        },\n        watch: {\n            page () {\n                this.fetchItem(this.page)\n            },\n        },\n        async beforeMount () {\n            this.shareAvailable = typeof window.navigator.share === 'function'\n            if (qs.has('ID')) {\n                try {\n                    const itineraryID = qs.get('ID')\n                    const [itinerary] = await Promise.all([\n                        api.get(`itinerary/get/?ID=${itineraryID}&public=1`),\n                        api.post(`itinerary/view/?ID=${itineraryID}`),\n                    ])\n                    this.itinerary = itinerary\n\n                    const hash = window.location.hash ? window.location.hash.slice(1) : NaN\n                    const startPage = Number(hash) - 1\n                    if (!isNaN(startPage) && itinerary.items[startPage]) {\n                        await this.fetchItem(startPage)\n                        this.gotoPage(startPage)\n                    } else {\n                        await this.fetchItem(0)\n                    }\n                } catch (err) {\n                    console.error(err)\n                }\n            }\n        },\n        methods: {\n            async fetchItem (index) {\n                if (!this.itemsCache[index]) {\n                    const itemId = this.itinerary.items[index].items_id\n                    const [item, attachments] = await Promise.all([\n                        api.get(`${this.$iande.tainacanUrl}/items/${itemId}`),\n                        api.get(`${this.$iande.tainacanUrl}/items/${itemId}/attachments`),\n                    ])\n                    item.attachments = attachments\n                    this.$set(this.itemsCache, index, item)\n                }\n            },\n            formatText (text) {\n                return text.trim().replace(/\\r?\\n/g, '<br/>')\n            },\n            gotoCover () {\n                this.cover = true\n                this.page = 0\n                window.location.hash = ''\n            },\n            gotoPage (page) {\n                this.cover = false\n                this.page = page\n                window.location.hash = `#${page + 1}`\n            },\n            nextPage () {\n                if (this.page === this.itinerary.items.length - 1) {\n                    this.gotoCover()\n                } else {\n                    this.gotoPage(this.page + 1)\n                }\n            },\n            openModal () {\n                if (this.$refs.modal) {\n                    this.$refs.modal.open()\n                }\n            },\n            previousPage () {\n                if (this.page === 0) {\n                    this.gotoCover()\n                } else {\n                    this.gotoPage(this.page - 1)\n                }\n            },\n            share () {\n                const shareObject = {\n                    text: this.itinerary.description,\n                    title: this.itinerary.title,\n                    url: window.location.href,\n                }\n                if (window.navigator.canShare(shareObject)) {\n                    window.navigator.share(shareObject)\n                }\n            },\n        },\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-itinerary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./view-itinerary.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./view-itinerary.vue?vue&type=template&id=2c4c8488&\"\nimport script from \"./view-itinerary.vue?vue&type=script&lang=js&\"\nexport * from \"./view-itinerary.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["name","components","Modal","props","item","type","required","computed","methods","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","__","on","close","_v","_s","url","_x","$iande","image","thumbnails","thumbnail","_e","_l","metadatum","key","domProps","value_as_html","_isIE","modifiersRE","nonEventNameCharsRE","names","extractEventOptions","eventDescriptor","modifiers","match","test","window","navigator","userAgent","toLowerCase","indexOf","split","reduce","options","modifier","target","String","default","filter","Function","e","data","isActive","activated","deactivated","render","h","mounted","this$1","_listeners","Object","create","keys","$listeners","forEach","event","listener","handler","addEventListener","replace","beforeDestroy","removeEventListener","label","narrow","isOpen","$event","_k","keyCode","apply","arguments","class","_t","ItemDetailsModal","cover","itemsCache","itinerary","page","shareAvailable","watch","qs","Promise","api","Number","console","index","text","title","style","formatText","description","shareable","facebookLink","telegramLink","twitterLink","whatsappLink","share","gotoPage","user_name","siteName","$iandeUrl","previousPage","items","length","nextPage","currentMeta","currentImage","large","alt_text","currentItem","items_description","openModal"],"sourceRoot":""}