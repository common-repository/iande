"use strict";(self.webpackChunkiande_plugin=self.webpackChunkiande_plugin||[]).push([[355],{9275:(t,i,n)=>{n.r(i),n.d(i,{default:()=>p});var e=n(7757),s=n.n(e),a=n(7033),r=n(424),o=n(1870);function u(t,i){return function(t){if(Array.isArray(t))return t}(t)||function(t,i){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var e,s,a=[],r=!0,o=!1;try{for(n=n.call(t);!(r=(e=n.next()).done)&&(a.push(e.value),!i||a.length!==i);r=!0);}catch(t){o=!0,s=t}finally{try{r||null==n.return||n.return()}finally{if(o)throw s}}return a}(t,i)||function(t,i){if(!t)return;if("string"==typeof t)return l(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,i)}(t,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,i){(null==i||i>t.length)&&(i=t.length);for(var n=0,e=new Array(i);n<i;n++)e[n]=t[n];return e}var c=n.e(691).then(n.t.bind(n,5891,19));const _={name:"InstitutionDetails",props:{institution:{type:Object,required:!0},n:{type:Number,default:1}},data:function(){return{showDetails:!1}},asyncComputed:{cities:{get:function(){return c},default:{}}},computed:{city:function(){var t=this.institution.city;return Object.entries(this.cities).find((function(i){return u(i,1)[0]===t}))[1]},name:function(){return this.institution.name?this.institution.name:(0,r.gB)((0,r.__)("Instituição %s","iande"),this.n)}},methods:{formatCep:o.hR,formatCnpj:o.ZK,formatPhone:o.CN,institutionProfile:function(t){return(0,o.po)(t.profile)&&t.profile_other?(0,r.__)(t.profile_other,"iande"):(0,r.__)(t.profile,"iande")},toggleDetails:function(){this.showDetails=!this.showDetails}}};var d=n(1900);function v(t,i,n,e,s,a,r){try{var o=t[a](r),u=o.value}catch(t){return void n(t)}o.done?i(u):Promise.resolve(u).then(e,s)}const f={name:"ListInstitutionsPage",components:{InstitutionDetails:(0,d.Z)(_,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("section",{staticClass:"iande-institution"},[n("div",{staticClass:"iande-institution__summary",class:t.showDetails||"collapsed"},[n("h2",[t._v(t._s(t.institution.name))]),t._v(" "),n("div",{staticClass:"iande-institution__toggle",attrs:{"aria-label":t.showDetails?t.__("Ocultar detalhes","iande"):t.__("Exibir detalhes","iande"),role:"button",tabindex:"0"},on:{click:t.toggleDetails,keypress:function(i){return!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter")?null:t.toggleDetails.apply(null,arguments)}}},[n("Icon",{attrs:{icon:t.showDetails?"circle-minus":"circle-plus"}})],1)]),t._v(" "),t.showDetails?n("div",{staticClass:"iande-institution__details"},[n("div",{staticClass:"iande-institution__box"},[n("div",{staticClass:"iande-institution__box-title"},[n("h3",[n("Icon",{attrs:{icon:"landmark"}}),t._v(t._s(t.__("Instituição","iande")))],1),t._v(" "),n("div",{staticClass:"iande-institution__edit"},[n("a",{staticClass:"iande-institution__edit-link",attrs:{href:t.$iandeUrl("institution/edit?ID="+t.institution.ID)}},[t._v(t._s(t.__("Editar","iande")))]),t._v(" "),n("Icon",{attrs:{icon:"pen"}})],1)]),t._v(" "),n("div",[n("div",[t._v(t._s(t.institutionProfile(t.institution)))]),t._v(" "),t.institution.cnpj?n("div",[t._v(t._s(t.__("CNPJ","iande"))+": "+t._s(t.formatCnpj(t.institution.cnpj)))]):t._e(),t._v(" "),n("div",[t._v(t._s(t.__("Telefone","iande"))+": "+t._s(t.formatPhone(t.institution.phone)))]),t._v(" "),n("div",[t._v(t._s(t.__("E-mail","iande"))+": "+t._s(t.institution.email))])]),t._v(" "),n("div",[n("div",[t._v("\n                    "+t._s(t.institution.address)+", "+t._s(t.institution.address_number)+"\n                    "),t.institution.complement?[t._v(t._s(t.institution.complement))]:t._e(),t._v("\n                    - "+t._s(t.institution.district)+"\n                ")],2),t._v(" "),n("div",[t._v(t._s(t.city)+" - "+t._s(t.institution.state))]),t._v(" "),n("div",[t._v(t._s(t.__("CEP","iande"))+" "+t._s(t.formatCep(t.institution.zip_code)))])])])]):t._e()])}),[],!1,null,null,null).exports},computed:{institutions:(0,a.Z_)("institutions/list")},created:function(){var t,i=this;return(t=s().mark((function t(){var n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==i.institutions.length){t.next=5;break}return t.next=3,o.hi.get("institution/list");case 3:n=t.sent,i.institutions=n;case 5:case"end":return t.stop()}}),t)})),function(){var i=this,n=arguments;return new Promise((function(e,s){var a=t.apply(i,n);function r(t){v(a,e,s,r,o,"next",t)}function o(t){v(a,e,s,r,o,"throw",t)}r(void 0)}))})()}};const p=(0,d.Z)(f,(function(){var t=this,i=t.$createElement,n=t._self._c||i;return n("article",{staticClass:"mt-lg"},[n("div",{staticClass:"iande-container iande-stack stack-lg"},[n("h1",[t._v(t._s(t.__("Suas instituições","iande")))]),t._v(" "),n("div",{staticClass:"iande-institutions"},t._l(t.institutions,(function(t,i){return n("InstitutionDetails",{key:t.ID,attrs:{institution:t,n:i+1}})})),1),t._v(" "),n("div",{staticClass:"iande-container narrow"},[n("a",{staticClass:"iande-button outline",attrs:{href:t.$iandeUrl("institution/create")}},[n("Icon",{attrs:{icon:"circle-plus"}}),t._v("\n                "+t._s(t.__("Cadastrar nova instituição","iande"))+"\n            ")],1)])])])}),[],!1,null,null,null).exports}}]);
//# sourceMappingURL=list-institutions-page.js.map