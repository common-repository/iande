{"version":3,"file":"dist/itinerary-metabox.js","mappings":"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","sources":["webpack://iande-plugin/./src/assets/js/components/admin/ItineraryMetabox.vue?4c85","webpack://iande-plugin/src/assets/js/components/admin/ItineraryMetabox.vue","webpack://iande-plugin/./src/assets/js/components/admin/ItineraryMetabox.vue?74e4","webpack://iande-plugin/./src/assets/js/components/admin/ItineraryMetabox.vue","webpack://iande-plugin/./node_modules/vue-loader/lib/runtime/componentNormalizer.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"iande-itinerary-metabox\"},[_c('div',{staticClass:\"components-base-control__field\"},[_c('label',{staticClass:\"components-input-control__label\",attrs:{\"for\":\"tainacan-collection\"}},[_vm._v(_vm._s(_vm.__('Coleção', 'iande')))]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.collection),expression:\"form.collection\"}],staticClass:\"components-select-control__input\",attrs:{\"name\":\"tainacan-collection\",\"id\":\"tainacan-collection\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"collection\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{key:0,domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.__('Todo o repositório', 'iande')))]),_vm._v(\" \"),_vm._l((_vm.collections),function(collection){return _c('option',{key:collection.id,domProps:{\"value\":collection.id}},[_vm._v(_vm._s(collection.name))])})],2)]),_vm._v(\" \"),_c('div',{staticClass:\"components-base-control__field\"},[_c('label',{staticClass:\"components-input-control__label\",attrs:{\"for\":\"tainacan-metakey\"}},[_vm._v(_vm._s(_vm.__('Filtro', 'iande')))]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.metakey),expression:\"form.metakey\"}],staticClass:\"components-select-control__input\",attrs:{\"name\":\"tainacan-metakey\",\"id\":\"tainacan-metakey\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"metakey\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{key:0,domProps:{\"value\":null}},[_vm._v(_vm._s(_vm.__('Sem filtro', 'iande')))]),_vm._v(\" \"),_vm._l((_vm.metadata),function(metakey){return _c('option',{key:metakey.id,domProps:{\"value\":metakey.id}},[_vm._v(_vm._s(_vm.__(metakey.name, 'iande')))])})],2)]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.form.metakey),expression:\"form.metakey\"}],staticClass:\"components-base-control__field\"},[_c('label',{staticClass:\"components-input-control__label\",attrs:{\"for\":\"tainacan-metavalue\"}},[_vm._v(_vm._s(_vm.__('Valor', 'iande')))]),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.metavalue),expression:\"form.metavalue\"}],staticClass:\"components-select-control__input\",attrs:{\"name\":\"tainacan-metavalue\",\"id\":\"tainacan-metavalue\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.form, \"metavalue\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},_vm._l((_vm.terms),function(metavalue){return _c('option',{key:metavalue.value,domProps:{\"value\":metavalue.value}},[_vm._v(_vm._s(metavalue.label)+\" (\"+_vm._s(metavalue.total_items)+\")\")])}),0)]),_vm._v(\" \"),_c('input',{attrs:{\"type\":\"hidden\",\"id\":\"tainacan-meta\",\"name\":\"tainacan-meta\"},domProps:{\"value\":JSON.stringify(_vm.form)}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"iande-itinerary-metabox\">\n        <div class=\"components-base-control__field\">\n            <label for=\"tainacan-collection\" class=\"components-input-control__label\">{{ __('Coleção', 'iande') }}</label>\n            <select name=\"tainacan-collection\" id=\"tainacan-collection\" class=\"components-select-control__input\" v-model=\"form.collection\">\n                <option :key=\"0\" :value=\"null\">{{ __('Todo o repositório', 'iande') }}</option>\n                <option v-for=\"collection of collections\" :key=\"collection.id\" :value=\"collection.id\">{{ collection.name }}</option>\n            </select>\n        </div>\n\n        <div class=\"components-base-control__field\">\n            <label for=\"tainacan-metakey\" class=\"components-input-control__label\">{{ __('Filtro', 'iande') }}</label>\n            <select name=\"tainacan-metakey\" id=\"tainacan-metakey\" class=\"components-select-control__input\" v-model=\"form.metakey\">\n                <option :key=\"0\" :value=\"null\">{{ __('Sem filtro', 'iande') }}</option>\n                <option v-for=\"metakey of metadata\" :key=\"metakey.id\" :value=\"metakey.id\">{{ __(metakey.name, 'iande') }}</option>\n            </select>\n        </div>\n\n        <div class=\"components-base-control__field\" v-show=\"form.metakey\">\n            <label for=\"tainacan-metavalue\" class=\"components-input-control__label\">{{ __('Valor', 'iande') }}</label>\n            <select name=\"tainacan-metavalue\" id=\"tainacan-metavalue\" class=\"components-select-control__input\" v-model=\"form.metavalue\">\n                <option v-for=\"metavalue of terms\" :key=\"metavalue.value\" :value=\"metavalue.value\">{{ metavalue.label }} ({{ metavalue.total_items }})</option>\n            </select>\n        </div>\n\n        <input type=\"hidden\" id=\"tainacan-meta\" name=\"tainacan-meta\" :value=\"JSON.stringify(form)\">\n    </div>\n</template>\n\n<script>\n    import { api } from '@utils'\n\n    const tainacanUrl = window.IandeSettings.tainacanUrl\n    const TAXONOMIES_ONLY = 'metaquery[0][key]=metadata_type&metaquery[0][value]=Tainacan%5CMetadata_Types%5CTaxonomy';\n\n    export default {\n        name: 'ItineraryMetabox',\n        props: {\n            previous: { type: Object, required: true },\n        },\n        data () {\n            return {\n                collections: [],\n                facetsCache: {},\n                fetched: false,\n                form: {\n                    collection: null,\n                    metakey: null,\n                    metavalue: null,\n                },\n                globalMetadata: [],\n                metadataCache: {},\n            }\n        },\n        computed: {\n            metadata () {\n                if (this.form.collection) {\n                    return this.metadataCache[this.form.collection] ?? []\n                } else {\n                    return this.globalMetadata\n                }\n            },\n            terms () {\n                if (this.form.metakey) {\n                    return this.facetsCache[this.form.metakey] ?? []\n                } else {\n                    return []\n                }\n            },\n        },\n        watch: {\n            'form.collection' () {\n                if (this.form.collection && !this.metadataCache[this.form.collection]) {\n                    this.fetchMetadata(this.form)\n                }\n            },\n            'form.metakey' () {\n                if (this.form.metakey && !this.facetsCache[this.form.metakey]) {\n                    this.fetchFacets(this.form)\n                }\n            },\n            metadata () {\n                if (this.fetched && !this.metadata.find(metakey => metakey.id === this.form.metakey)) {\n                    this.form.metakey = null\n                    this.form.metavalue = null\n                }\n            },\n            terms () {\n                if (this.fetched) {\n                    this.form.metavalue = null\n                }\n            },\n        },\n        async created () {\n            try {\n                const [collections, metadata] = await Promise.all([\n                    api.get(`${tainacanUrl}/collections`),\n                    api.get(`${tainacanUrl}/metadata?${TAXONOMIES_ONLY}`),\n                ])\n                this.collections = collections\n                this.globalMetadata = metadata\n\n                if (this.previous) {\n                    await Promise.all([\n                        this.previous.collection ? this.fetchMetadata(this.previous) : null,\n                        this.previous.metakey ? this.fetchFacets(this.previous) : null,\n                    ])\n                    this.form = this.previous\n                }\n\n                this.$nextTick(() => {\n                    this.fetched = true\n                })\n            } catch (err) {\n                console.error(err)\n            }\n        },\n        methods: {\n            async fetchFacets (form) {\n                const { collection, metakey } = form\n                try {\n                    const fragment = collection ? `collection/${collection}/facets/${metakey}` : `facets/${metakey}`\n                    const facets = await api.get(`${tainacanUrl}/${fragment}?hideempty=0`)\n                    this.$set(this.facetsCache, metakey, facets.values)\n                } catch (err) {\n                    console.error(err)\n                }\n            },\n            async fetchMetadata (form) {\n                const { collection } = form\n                try {\n                    const metadata = await api.get(`${tainacanUrl}/collection/${collection}/metadata?${TAXONOMIES_ONLY}`)\n                    this.$set(this.metadataCache, collection, metadata)\n                } catch (err) {\n                    console.error(err)\n                }\n            },\n        },\n    }\n</script>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItineraryMetabox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItineraryMetabox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItineraryMetabox.vue?vue&type=template&id=4f09cba6&\"\nimport script from \"./ItineraryMetabox.vue?vue&type=script&lang=js&\"\nexport * from \"./ItineraryMetabox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n"],"names":["name","props","previous","type","required","collections","facetsCache","fetched","form","collection","metakey","metavalue","globalMetadata","metadataCache","computed","watch","Promise","api","console","methods","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_s","__","directives","rawName","value","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","$set","multiple","key","domProps","_l","id","label","total_items","JSON","stringify","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports"],"sourceRoot":""}