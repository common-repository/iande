{"version":3,"file":"dist/list-institutions-page.js","mappings":"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","sources":["webpack://iande-plugin/./src/assets/js/pages/list-institutions.vue?df24","webpack://iande-plugin/src/assets/js/components/InstitutionDetails.vue","webpack://iande-plugin/./src/assets/js/components/InstitutionDetails.vue?df6d","webpack://iande-plugin/src/assets/js/pages/list-institutions.vue","webpack://iande-plugin/./src/assets/js/pages/list-institutions.vue?1c28","webpack://iande-plugin/./src/assets/js/components/InstitutionDetails.vue","webpack://iande-plugin/./src/assets/js/components/InstitutionDetails.vue?ed1f","webpack://iande-plugin/./src/assets/js/pages/list-institutions.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"mt-lg\"},[_c('div',{staticClass:\"iande-container iande-stack stack-lg\"},[_c('h1',[_vm._v(_vm._s(_vm.__('Suas instituições', 'iande')))]),_vm._v(\" \"),_c('div',{staticClass:\"iande-institutions\"},_vm._l((_vm.institutions),function(institution,n){return _c('InstitutionDetails',{key:institution.ID,attrs:{\"institution\":institution,\"n\":n + 1}})}),1),_vm._v(\" \"),_c('div',{staticClass:\"iande-container narrow\"},[_c('a',{staticClass:\"iande-button outline\",attrs:{\"href\":_vm.$iandeUrl('institution/create')}},[_c('Icon',{attrs:{\"icon\":\"circle-plus\"}}),_vm._v(\"\\n                \"+_vm._s(_vm.__('Cadastrar nova instituição', 'iande'))+\"\\n            \")],1)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <section class=\"iande-institution\">\n        <div class=\"iande-institution__summary\" :class=\"showDetails || 'collapsed'\">\n            <h2>{{ institution.name }}</h2>\n            <div class=\"iande-institution__toggle\" :aria-label=\"showDetails ? __('Ocultar detalhes', 'iande') : __('Exibir detalhes', 'iande')\" role=\"button\" tabindex=\"0\" @click=\"toggleDetails\" @keypress.enter=\"toggleDetails\">\n                <Icon :icon=\"showDetails ? 'circle-minus' : 'circle-plus'\"/>\n            </div>\n        </div>\n        <div class=\"iande-institution__details\" v-if=\"showDetails\">\n            <div class=\"iande-institution__box\">\n                <div class=\"iande-institution__box-title\">\n                    <h3><Icon icon=\"landmark\"/>{{ __('Instituição', 'iande') }}</h3>\n                    <div class=\"iande-institution__edit\">\n                        <a class=\"iande-institution__edit-link\" :href=\"$iandeUrl(`institution/edit?ID=${institution.ID}`)\">{{ __('Editar', 'iande') }}</a>\n                        <Icon icon=\"pen\"/>\n                    </div>\n                </div>\n                <div>\n                    <div>{{ institutionProfile(institution) }}</div>\n                    <div v-if=\"institution.cnpj\">{{ __('CNPJ', 'iande') }}: {{ formatCnpj(institution.cnpj) }}</div>\n                    <div>{{ __('Telefone', 'iande') }}: {{ formatPhone(institution.phone) }}</div>\n                    <div>{{ __('E-mail', 'iande') }}: {{ institution.email }}</div>\n                </div>\n                <div>\n                    <div>\n                        {{ institution.address }}, {{ institution.address_number }}\n                        <template v-if=\"institution.complement\">{{ institution.complement }}</template>\n                        - {{ institution.district }}\n                    </div>\n                    <div>{{ city }} - {{ institution.state }}</div>\n                    <div>{{ __('CEP', 'iande') }} {{ formatCep(institution.zip_code) }}</div>\n                </div>\n            </div>\n        </div>\n    </section>\n</template>\n\n<script>\n    import { __, sprintf } from '@plugins/wp-i18n'\n    import { formatCep, formatCnpj, formatPhone, isOther } from '@utils'\n\n    const cities = import(/* webpackChunkName: 'estados-municipios' */ '../../json/municipios.json')\n\n    export default {\n        name: 'InstitutionDetails',\n        props: {\n            institution: { type: Object, required: true },\n            n: { type: Number, default: 1 },\n        },\n        data () {\n            return {\n                showDetails: false,\n            }\n        },\n        asyncComputed: {\n            cities: {\n                get () {\n                    return cities\n                },\n                default: {},\n            },\n        },\n        computed: {\n            city () {\n                const cityId = this.institution.city\n                return Object.entries(this.cities).find(([key]) => key === cityId)[1]\n            },\n            name () {\n                if (this.institution.name) {\n                    return this.institution.name\n                } else {\n                    return sprintf(__('Instituição %s', 'iande'), this.n)\n                }\n            },\n        },\n        methods: {\n            formatCep,\n            formatCnpj,\n            formatPhone,\n            institutionProfile (institution) {\n                if (isOther(institution.profile) && institution.profile_other) {\n                    return __(institution.profile_other, 'iande')\n                } else {\n                    return __(institution.profile, 'iande')\n                }\n            },\n            toggleDetails () {\n                this.showDetails = !this.showDetails\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstitutionDetails.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstitutionDetails.vue?vue&type=script&lang=js&\"","<template>\n    <article class=\"mt-lg\">\n        <div class=\"iande-container iande-stack stack-lg\">\n            <h1>{{ __('Suas instituições', 'iande') }}</h1>\n            <div class=\"iande-institutions\">\n                <InstitutionDetails v-for=\"(institution, n) of institutions\" :key=\"institution.ID\" :institution=\"institution\" :n=\"n + 1\"/>\n            </div>\n            <div class=\"iande-container narrow\">\n                <a class=\"iande-button outline\" :href=\"$iandeUrl('institution/create')\">\n                    <Icon icon=\"circle-plus\"/>\n                    {{ __('Cadastrar nova instituição', 'iande') }}\n                </a>\n            </div>\n        </div>\n\n    </article>\n</template>\n\n<script>\n    import { sync } from 'vuex-pathify'\n\n    import InstitutionDetails from '@components/InstitutionDetails.vue'\n    import { api } from '@utils'\n\n    export default {\n        name: 'ListInstitutionsPage',\n        components: {\n            InstitutionDetails,\n        },\n        computed: {\n            institutions: sync('institutions/list'),\n        },\n        async created () {\n            if (this.institutions.length === 0) {\n                const institutions = await api.get('institution/list')\n                this.institutions = institutions\n            }\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-institutions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-institutions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InstitutionDetails.vue?vue&type=template&id=45a05ffe&\"\nimport script from \"./InstitutionDetails.vue?vue&type=script&lang=js&\"\nexport * from \"./InstitutionDetails.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"iande-institution\"},[_c('div',{staticClass:\"iande-institution__summary\",class:_vm.showDetails || 'collapsed'},[_c('h2',[_vm._v(_vm._s(_vm.institution.name))]),_vm._v(\" \"),_c('div',{staticClass:\"iande-institution__toggle\",attrs:{\"aria-label\":_vm.showDetails ? _vm.__('Ocultar detalhes', 'iande') : _vm.__('Exibir detalhes', 'iande'),\"role\":\"button\",\"tabindex\":\"0\"},on:{\"click\":_vm.toggleDetails,\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.toggleDetails.apply(null, arguments)}}},[_c('Icon',{attrs:{\"icon\":_vm.showDetails ? 'circle-minus' : 'circle-plus'}})],1)]),_vm._v(\" \"),(_vm.showDetails)?_c('div',{staticClass:\"iande-institution__details\"},[_c('div',{staticClass:\"iande-institution__box\"},[_c('div',{staticClass:\"iande-institution__box-title\"},[_c('h3',[_c('Icon',{attrs:{\"icon\":\"landmark\"}}),_vm._v(_vm._s(_vm.__('Instituição', 'iande')))],1),_vm._v(\" \"),_c('div',{staticClass:\"iande-institution__edit\"},[_c('a',{staticClass:\"iande-institution__edit-link\",attrs:{\"href\":_vm.$iandeUrl((\"institution/edit?ID=\" + (_vm.institution.ID)))}},[_vm._v(_vm._s(_vm.__('Editar', 'iande')))]),_vm._v(\" \"),_c('Icon',{attrs:{\"icon\":\"pen\"}})],1)]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(_vm._s(_vm.institutionProfile(_vm.institution)))]),_vm._v(\" \"),(_vm.institution.cnpj)?_c('div',[_vm._v(_vm._s(_vm.__('CNPJ', 'iande'))+\": \"+_vm._s(_vm.formatCnpj(_vm.institution.cnpj)))]):_vm._e(),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.__('Telefone', 'iande'))+\": \"+_vm._s(_vm.formatPhone(_vm.institution.phone)))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.__('E-mail', 'iande'))+\": \"+_vm._s(_vm.institution.email))])]),_vm._v(\" \"),_c('div',[_c('div',[_vm._v(\"\\n                    \"+_vm._s(_vm.institution.address)+\", \"+_vm._s(_vm.institution.address_number)+\"\\n                    \"),(_vm.institution.complement)?[_vm._v(_vm._s(_vm.institution.complement))]:_vm._e(),_vm._v(\"\\n                    - \"+_vm._s(_vm.institution.district)+\"\\n                \")],2),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.city)+\" - \"+_vm._s(_vm.institution.state))]),_vm._v(\" \"),_c('div',[_vm._v(_vm._s(_vm.__('CEP', 'iande'))+\" \"+_vm._s(_vm.formatCep(_vm.institution.zip_code)))])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./list-institutions.vue?vue&type=template&id=1ab9138c&\"\nimport script from \"./list-institutions.vue?vue&type=script&lang=js&\"\nexport * from \"./list-institutions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["name","props","institution","type","required","n","showDetails","asyncComputed","cities","computed","methods","formatCep","formatCnpj","formatPhone","components","_vm","this","_h","$createElement","_c","_self","staticClass","class","_v","_s","attrs","__","on","toggleDetails","$event","indexOf","_k","keyCode","key","apply","arguments","$iandeUrl","institutionProfile","cnpj","_e","phone","email","address","address_number","complement","district","city","state","zip_code","institutions","api","_l","ID"],"sourceRoot":""}