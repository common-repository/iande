{"version":3,"file":"dist/list-itineraries-page.js","mappings":"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","sources":["webpack://iande-plugin/src/assets/js/components/AppointmentsFilter.vue","webpack://iande-plugin/./src/assets/js/components/AppointmentsFilter.vue?163d","webpack://iande-plugin/./src/assets/js/components/AppointmentsFilter.vue","webpack://iande-plugin/./src/assets/js/components/AppointmentsFilter.vue?7613","webpack://iande-plugin/./src/assets/js/pages/list-itineraries.vue?aa06","webpack://iande-plugin/src/assets/js/components/ItineraryPreview.vue","webpack://iande-plugin/./src/assets/js/components/ItineraryPreview.vue?41c0","webpack://iande-plugin/./src/assets/js/components/ItineraryPreview.vue","webpack://iande-plugin/./src/assets/js/components/ItineraryPreview.vue?dfcd","webpack://iande-plugin/src/assets/js/pages/list-itineraries.vue","webpack://iande-plugin/./src/assets/js/pages/list-itineraries.vue?b9ae","webpack://iande-plugin/./src/assets/js/pages/list-itineraries.vue"],"sourcesContent":["<template>\n    <fieldset class=\"iande-appointments-filter iande-form\" :aria-labelledby=\"idFor('label')\">\n        <div class=\"iande-appointments-filter__row\">\n            <div :id=\"idFor('label')\" class=\"iande-appointments-filter__label\">{{ label }}:</div>\n            <template v-for=\"option of options\">\n                <input :id=\"idFor(option.value)\" :key=\"`input-${option.value}`\" type=\"radio\" :name=\"id\" :value=\"option.value\" v-model=\"modelValue\">\n                <label :for=\"idFor(option.value)\" :key=\"`label-${option.value}`\">\n                    <span class=\"iande-label\" v-if=\"option.icon\" :aria-label=\"option.label\">\n                        <Icon :icon=\"option.icon\"/>\n                    </span>\n                    <span class=\"iande-label\" v-else>{{ option.label }}</span>\n                </label>\n            </template>\n        </div>\n    </fieldset>\n</template>\n\n<script>\n    export default {\n        name: 'AppointmentsFilter',\n        model: {\n            prop: 'value',\n            event: 'updateValue'\n        },\n        props: {\n            id: { type: String, required: true },\n            label: { type: String, required: true },\n            options: { type: Array, required: true },\n            value: { type: null, required: true },\n        },\n        computed: {\n            modelValue: {\n                get () {\n                    return this.value\n                },\n                set (newValue) {\n                    this.$emit('updateValue', newValue)\n                }\n            },\n        },\n        methods: {\n            idFor (suffix) {\n                return `filter-${this.id}-${suffix}`\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsFilter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppointmentsFilter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppointmentsFilter.vue?vue&type=template&id=3769e39c&\"\nimport script from \"./AppointmentsFilter.vue?vue&type=script&lang=js&\"\nexport * from \"./AppointmentsFilter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('fieldset',{staticClass:\"iande-appointments-filter iande-form\",attrs:{\"aria-labelledby\":_vm.idFor('label')}},[_c('div',{staticClass:\"iande-appointments-filter__row\"},[_c('div',{staticClass:\"iande-appointments-filter__label\",attrs:{\"id\":_vm.idFor('label')}},[_vm._v(_vm._s(_vm.label)+\":\")]),_vm._v(\" \"),_vm._l((_vm.options),function(option){return [_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.modelValue),expression:\"modelValue\"}],key:(\"input-\" + (option.value)),attrs:{\"id\":_vm.idFor(option.value),\"type\":\"radio\",\"name\":_vm.id},domProps:{\"value\":option.value,\"checked\":_vm._q(_vm.modelValue,option.value)},on:{\"change\":function($event){_vm.modelValue=option.value}}}),_vm._v(\" \"),_c('label',{key:(\"label-\" + (option.value)),attrs:{\"for\":_vm.idFor(option.value)}},[(option.icon)?_c('span',{staticClass:\"iande-label\",attrs:{\"aria-label\":option.label}},[_c('Icon',{attrs:{\"icon\":option.icon}})],1):_c('span',{staticClass:\"iande-label\"},[_vm._v(_vm._s(option.label))])])]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"mt-lg\",attrs:{\"id\":\"iande-list-itineraries\"}},[_c('div',{staticClass:\"iande-container iande-stack stack-lg\"},[_c('h1',[_vm._v(_vm._s(_vm.__('Roteiros virtuais', 'iande')))]),_vm._v(\" \"),_c('div',{staticClass:\"iande-appointments-toolbar\"},[_c('AppointmentsFilter',{attrs:{\"id\":\"status\",\"label\":_vm.__('Visualizando', 'iande'),\"options\":_vm.statusOptions},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_vm._v(\" \"),_c('a',{staticClass:\"iande-button small outline\",attrs:{\"href\":_vm.$iandeUrl('itinerary/create')}},[_c('Icon',{attrs:{\"icon\":\"circle-plus\"}}),_vm._v(\"\\n                \"+_vm._s(_vm.__('Criar novo roteiro', 'iande'))+\"\\n            \")],1)],1),_vm._v(\" \"),(_vm.filteredItineraries.length > 0)?_c('section',{staticClass:\"iande-container iande-stack stack-md\"},[_c('h2',[_vm._v(_vm._s(_vm.__('Seus roteiros', 'iande')))]),_vm._v(\" \"),_c('div',{staticClass:\"iande-itineraries-preview\"},_vm._l((_vm.filteredItineraries),function(itinerary){return _c('ItineraryPreview',{key:itinerary.ID,attrs:{\"itinerary\":itinerary}})}),1)]):_vm._e(),_vm._v(\" \"),(_vm.publicItineraries.length > 0)?_c('section',{staticClass:\"iande-container iande-stack stack-md\"},[_c('h2',[_vm._v(_vm._s(_vm.__('Roteiros públicos', 'iande')))]),_vm._v(\" \"),_c('div',{staticClass:\"iande-itineraries-preview\"},_vm._l((_vm.publicItineraries),function(itinerary){return _c('ItineraryPreview',{key:itinerary.ID,attrs:{\"itinerary\":itinerary}})}),1),_vm._v(\" \"),(_vm.page < _vm.maxPages)?_c('div',{staticClass:\"iande-container narrow\"},[_c('button',{staticClass:\"iande-button primary\",on:{\"click\":_vm.fetchMoreItineraries}},[_vm._v(\"\\n                    \"+_vm._s(_vm.__('Carregar mais', 'iande'))+\"\\n                \")])]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.totalAppointments > 0)?_c('div',{staticClass:\"iande-container narrow\"},[_c('a',{staticClass:\"iande-button outline\",attrs:{\"href\":_vm.$iandeUrl('itinerary/create')}},[_c('Icon',{attrs:{\"icon\":\"circle-plus\"}}),_vm._v(\"\\n                \"+_vm._s(_vm.__('Criar novo roteiro', 'iande'))+\"\\n            \")],1)]):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <article class=\"iande-itinerary-preview\">\n        <div class=\"iande-itinerary-preview__cover\">\n            <img :src=\"cover\" alt=\"\">\n            <a :href=\"$iandeUrl(`itinerary/edit/?ID=${itinerary.ID}`)\" :aria-label=\"__('Editar', 'iande')\" v-if=\"editable\">\n                <Icon icon=\"pen\"/>\n            </a>\n        </div>\n        <div class=\"iande-itinerary-preview__content\">\n            <h3><a :href=\"$iandeUrl(`itinerary/view/?ID=${itinerary.ID}`)\">{{ itinerary.title }}</a></h3>\n            <div class=\"iande-itinerary-preview__bar\">\n                <span>{{ sprintf(_n('%s item', '%s itens', numItems, 'iande'), numItems) }}</span>\n                <span>\n                    <span :aria-label=\"__('Visualizações', 'iande')\" :title=\"__('Visualizações', 'iande')\">\n                        <Icon icon=\"eye\"/>\n                    </span>\n                    <span>{{ itinerary.views || 0 }}</span>\n                </span>\n                <span @click=\"like\">\n                    <span :aria-label=\"__('Gostou', 'iande')\" :title=\"__('Gostou', 'iande')\" v-if=\"itinerary.liked\">\n                        <Icon icon=\"star\" class=\"gold\"/>\n                    </span>\n                    <span :aria-label=\"__('Gostar', 'iande')\" :title=\"__('Gostar', 'iande')\" v-else>\n                        <Icon :icon=\"['far', 'star']\"/>\n                    </span>\n                    <span>{{ itinerary.likes || 0 }}</span>\n                </span>\n            </div>\n            <p>{{ itinerary.description }}</p>\n        </div>\n    </article>\n</template>\n\n<script>\n    import { get } from 'vuex-pathify'\n\n    import { api } from '@utils'\n\n    export default {\n        name: 'ItineraryPreview',\n        props: {\n            itinerary: { type: Object, required: true },\n        },\n        computed: {\n            cover () {\n                return this.itinerary.cover || `${this.$iande.iandePath}assets/img/cover-placeholder.png`\n            },\n            editable () {\n                return this.user.ID == this.itinerary.user_id\n            },\n            numItems () {\n                return this.itinerary.items ? this.itinerary.items.length : 0\n            },\n            user: get('users/current'),\n        },\n        methods: {\n            async like() {\n                const result = await api.post(`itinerary/like/?ID=${this.itinerary.ID}`)\n                if (result) {\n                    this.itinerary.liked = true\n                    this.itinerary.likes++\n                } else {\n                    this.itinerary.liked = false\n                    this.itinerary.likes--\n                }\n            }\n        },\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItineraryPreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ItineraryPreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ItineraryPreview.vue?vue&type=template&id=15d552e0&\"\nimport script from \"./ItineraryPreview.vue?vue&type=script&lang=js&\"\nexport * from \"./ItineraryPreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('article',{staticClass:\"iande-itinerary-preview\"},[_c('div',{staticClass:\"iande-itinerary-preview__cover\"},[_c('img',{attrs:{\"src\":_vm.cover,\"alt\":\"\"}}),_vm._v(\" \"),(_vm.editable)?_c('a',{attrs:{\"href\":_vm.$iandeUrl((\"itinerary/edit/?ID=\" + (_vm.itinerary.ID))),\"aria-label\":_vm.__('Editar', 'iande')}},[_c('Icon',{attrs:{\"icon\":\"pen\"}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"iande-itinerary-preview__content\"},[_c('h3',[_c('a',{attrs:{\"href\":_vm.$iandeUrl((\"itinerary/view/?ID=\" + (_vm.itinerary.ID)))}},[_vm._v(_vm._s(_vm.itinerary.title))])]),_vm._v(\" \"),_c('div',{staticClass:\"iande-itinerary-preview__bar\"},[_c('span',[_vm._v(_vm._s(_vm.sprintf(_vm._n('%s item', '%s itens', _vm.numItems, 'iande'), _vm.numItems)))]),_vm._v(\" \"),_c('span',[_c('span',{attrs:{\"aria-label\":_vm.__('Visualizações', 'iande'),\"title\":_vm.__('Visualizações', 'iande')}},[_c('Icon',{attrs:{\"icon\":\"eye\"}})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.itinerary.views || 0))])]),_vm._v(\" \"),_c('span',{on:{\"click\":_vm.like}},[(_vm.itinerary.liked)?_c('span',{attrs:{\"aria-label\":_vm.__('Gostou', 'iande'),\"title\":_vm.__('Gostou', 'iande')}},[_c('Icon',{staticClass:\"gold\",attrs:{\"icon\":\"star\"}})],1):_c('span',{attrs:{\"aria-label\":_vm.__('Gostar', 'iande'),\"title\":_vm.__('Gostar', 'iande')}},[_c('Icon',{attrs:{\"icon\":['far', 'star']}})],1),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.itinerary.likes || 0))])])]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.itinerary.description))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <article id=\"iande-list-itineraries\" class=\"mt-lg\">\n        <div class=\"iande-container iande-stack stack-lg\">\n            <h1>{{ __('Roteiros virtuais', 'iande') }}</h1>\n\n            <div class=\"iande-appointments-toolbar\">\n                <AppointmentsFilter id=\"status\" :label=\"__('Visualizando', 'iande')\" :options=\"statusOptions\" v-model=\"filter\"/>\n                <a class=\"iande-button small outline\" :href=\"$iandeUrl('itinerary/create')\">\n                    <Icon icon=\"circle-plus\"/>\n                    {{ __('Criar novo roteiro', 'iande') }}\n                </a>\n            </div>\n\n            <section class=\"iande-container iande-stack stack-md\" v-if=\"filteredItineraries.length > 0\">\n                <h2>{{ __('Seus roteiros', 'iande') }}</h2>\n                <div class=\"iande-itineraries-preview\">\n                    <ItineraryPreview v-for=\"itinerary of filteredItineraries\" :key=\"itinerary.ID\" :itinerary=\"itinerary\"/>\n                </div>\n            </section>\n\n            <section class=\"iande-container iande-stack stack-md\" v-if=\"publicItineraries.length > 0\">\n                <h2>{{ __('Roteiros públicos', 'iande') }}</h2>\n                <div class=\"iande-itineraries-preview\">\n                    <ItineraryPreview v-for=\"itinerary of publicItineraries\" :key=\"itinerary.ID\" :itinerary=\"itinerary\"/>\n                </div>\n                <div class=\"iande-container narrow\" v-if=\"page < maxPages\">\n                    <button class=\"iande-button primary\" @click=\"fetchMoreItineraries\">\n                        {{ __('Carregar mais', 'iande') }}\n                    </button>\n                </div>\n            </section>\n\n            <div class=\"iande-container narrow\" v-if=\"totalAppointments > 0\">\n                <a class=\"iande-button outline\" :href=\"$iandeUrl('itinerary/create')\">\n                    <Icon icon=\"circle-plus\"/>\n                    {{ __('Criar novo roteiro', 'iande') }}\n                </a>\n            </div>\n        </div>\n    </article>\n</template>\n\n<script>\n    import AppointmentsFilter from '@components/AppointmentsFilter.vue'\n    import ItineraryPreview from '@components/ItineraryPreview.vue'\n    import { __ } from '@plugins/wp-i18n'\n    import { api, constant } from '@utils'\n\n    export default {\n        name: 'ListItinerariesPage',\n        components: {\n            AppointmentsFilter,\n            ItineraryPreview,\n        },\n        data () {\n            return {\n                filter: 'publish',\n                maxPages: 1,\n                page: 1,\n                publicItineraries: [],\n                userItineraries: [],\n            }\n        },\n        computed: {\n            filteredItineraries () {\n                if (this.filter === 'draft') {\n                    return this.userItineraries.filter(itinerary => itinerary.post_status === 'draft')\n                } else {\n                    return this.userItineraries.filter(itinerary => itinerary.post_status === 'pending' || itinerary.post_status === 'publish')\n                }\n            },\n            statusOptions: constant([\n                { label: __('Publicados', 'iande'), value: 'publish' },\n                { label: __('Rascunhos', 'iande'), value: 'draft' },\n            ]),\n            totalAppointments () {\n                return this.filteredItineraries.length + this.publicItineraries.length\n            },\n        },\n        async created () {\n            try {\n                const [publicItineraries, userItineraries] = await Promise.all([\n                    api.get('itinerary/list_published/?page=1'),\n                    api.get('itinerary/list'),\n                ])\n                this.maxPages = publicItineraries.num_pages\n                this.publicItineraries = publicItineraries.items\n                this.userItineraries = userItineraries\n            } catch (err) {\n                console.error(err)\n            }\n        },\n        methods: {\n            async fetchMoreItineraries () {\n                try {\n                    const page = this.page + 1\n                    const publicItineraries = await api.get(`itinerary/list_published/?page=${page}`)\n                    this.page = page\n                    this.publicItineraries = [...this.publicItineraries, ...publicItineraries.items]\n                } catch (err) {\n                    console.error(err)\n                }\n            },\n        }\n    }\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-itineraries.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./list-itineraries.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./list-itineraries.vue?vue&type=template&id=70c770c8&\"\nimport script from \"./list-itineraries.vue?vue&type=script&lang=js&\"\nexport * from \"./list-itineraries.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["name","model","prop","event","props","id","type","required","label","options","value","computed","modelValue","newValue","methods","suffix","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","idFor","_v","_s","_l","option","directives","rawName","expression","key","domProps","_q","on","$event","icon","itinerary","user","api","cover","$iandeUrl","__","_e","title","sprintf","_n","numItems","views","like","likes","description","components","AppointmentsFilter","ItineraryPreview","filter","maxPages","page","publicItineraries","userItineraries","statusOptions","Promise","console","callback","$$v","filteredItineraries","length","ID","fetchMoreItineraries","totalAppointments"],"sourceRoot":""}